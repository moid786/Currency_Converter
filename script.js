const getCurrency = async (value, currency, currency1) => {
  let mystr = "";
  url =
    "https://api.currencyapi.com/v3/latest?apikey=cur_live_tmPsQekeg0OdTyG4uBUCQ5VntQ5CxRaWTAcEAaWc&base_currency=" +
    currency;
  let response = await fetch(url);
  let rjson = await response.json();


  for (let key of Object.keys(rjson["data"])) {
    // mystr =
    if (currency1 === key) {
      mystr = `<tr>
                  <td>${key}</td>
                  <td>${rjson["data"][key]["code"]}</td>
                  <td>${rjson["data"][key]["value"] * value}</td>
              </tr>`;
    }
  }
  const tBody = document.querySelector("tbody");
  tBody.innerHTML = mystr;
};

const btn = document.querySelector(".Convert-btn");
btn.addEventListener("click", () => {
  const value = Number(document.querySelector("#number").value);
  const currency = document.querySelector("#currency").value;
  
  const currency1 = document.querySelector("#currency1").value;
  getCurrency(value, currency, currency1);
});




  // let rjson = JSON.parse(`
  // {"meta":{"last_updated_at":"2023-09-01T23:59:59Z"},
  // "data":{"ADA":{"code":"ADA","value":0.0472397395},
  // "AED":{"code":"AED","value":0.0444248025},
  // "AFN":{"code":"AFN","value":0.8876780889},"ALL":{"code":"ALL","value":1.2088879664},
  // "AMD":{"code":"AMD","value":4.6948225654},
  // "ANG":{"code":"ANG","value":0.0216115194},
  // "AOA":{"code":"AOA","value":10.0235459079},
  // "ARB":{"code":"ARB","value":0.0136303679},
  // "ARS":{"code":"ARS","value":4.2355956961},
  // "AUD":{"code":"AUD","value":0.0187491094},
  // "AVAX":{"code":"AVAX","value":0.0012145026},
  // "AWG":{"code":"AWG","value":0.0216500997},
  // "AZN":{"code":"AZN","value":0.0205615472},
  // "BAM":{"code":"BAM","value":0.0219986814},
  // "BBD":{"code":"BBD","value":0.0241900556},
  // "BDT":{"code":"BDT","value":1.321342375},
  // "BGN":{"code":"BGN","value":0.021821852},
  // "BHD":{"code":"BHD","value":0.0045477304},
  // "BIF":{"code":"BIF","value":34.2541625602},
  // "BMD":{"code":"BMD","value":0.0120950278},
  // "BNB":{"code":"BNB","value":5.63501e-5},
  // "BND":{"code":"BND","value":0.0163738875},
  // "BOB":{"code":"BOB","value":0.0837696933},
  // "BRL":{"code":"BRL","value":0.0597051786},
  // "BSD":{"code":"BSD","value":0.0120950278},
  // "BTC":{"code":"BTC","value":4.67e-7},
  // "BTN":{"code":"BTN","value":1.0022873226},
  // "BUSD":{"code":"BUSD","value":0.012045857},
  // "BWP":{"code":"BWP","value":0.1652574123},
  // "BYN":{"code":"BYN","value":0.0303432813},
  // "BYR":{"code":"BYR","value":303.4325745866},
  // "BZD":{"code":"BZD","value":0.0241900556},
  // "CAD":{"code":"CAD","value":0.0164450076},
  // "CDF":{"code":"CDF","value":30.0268114473},
  // "CHF":{"code":"CHF","value":0.0107105121},
  // "CLF":{"code":"CLF","value":0.0002799999},
  // "CLP":{"code":"CLP","value":10.3009091232},
  // "CNY":{"code":"CNY","value":0.0878262475},
  // "COP":{"code":"COP","value":48.9658897152},
  // "CRC":{"code":"CRC","value":6.500395414},
  // "CUC":{"code":"CUC","value":0.0120950278},
  // "CUP":{"code":"CUP","value":0.2902806667},
  // "CVE":{"code":"CVE","value":1.2382869352},
  // "CZK":{"code":"CZK","value":0.2708806324},
  // "DAI":{"code":"DAI","value":0.0120561467},
  // "DJF":{"code":"DJF","value":2.1495404319},
  // "DKK":{"code":"DKK","value":0.0836945825},
  // "DOP":{"code":"DOP","value":0.6867756444},
  // "DOT":{"code":"DOT","value":0.0028573976},
  // "DZD":{"code":"DZD","value":1.6580617662},
  // "EGP":{"code":"EGP","value":0.3738627944},
  // "ERN":{"code":"ERN","value":0.1814254167},
  // "ETB":{"code":"ETB","value":0.6735062528},
  // "ETH":{"code":"ETH","value":7.3976e-6},
  // "EUR":{"code":"EUR","value":0.0112230988},
  // "FJD":{"code":"FJD","value":0.0273601666},
  // "FKP":{"code":"FKP","value":0.0096084789},
  // "GBP":{"code":"GBP","value":0.0096107102},
  // "GEL":{"code":"GEL","value":0.0319833692},
  // "GGP":{"code":"GGP","value":0.0096084796},
  // "GHS":{"code":"GHS","value":0.1375767266},
  // "GIP":{"code":"GIP","value":0.0096084762},
  // "GMD":{"code":"GMD","value":0.7119018635},
  // "GNF":{"code":"GNF","value":103.3175958402},
  // "GTQ":{"code":"GTQ","value":0.095131279},
  // "GYD":{"code":"GYD","value":2.5336132968},
  // "HKD":{"code":"HKD","value":0.0948938549},
  // "HNL":{"code":"HNL","value":0.2978587389},
  // "HRK":{"code":"HRK","value":0.0852174623},
  // "HTG":{"code":"HTG","value":1.6623097523},
  // "HUF":{"code":"HUF","value":4.3111450253},
  // "IDR":{"code":"IDR","value":184.1500622673},
  // "ILS":{"code":"ILS","value":0.0458897499},
  // "IMP":{"code":"IMP","value":0.0096084712},
  // "INR":{"code":"INR","value":1},
  // "IQD":{"code":"IQD","value":15.8228172753},
  // "IRR":{"code":"IRR","value":508.156548743},
  // "ISK":{"code":"ISK","value":1.5903066395},
  // "JEP":{"code":"JEP","value":0.0096084792},
  // "JMD":{"code":"JMD","value":1.8867766323},
  // "JOD":{"code":"JOD","value":0.0085874697},
  // "JPY":{"code":"JPY","value":1.769257273},
  // "KES":{"code":"KES","value":1.7582049222},
  // "KGS":{"code":"KGS","value":1.0758857915},
  // "KHR":{"code":"KHR","value":50.2529514786},
  // "KMF":{"code":"KMF","value":5.4822538585},
  // "KPW":{"code":"KPW","value":10.885494243},
  // "KRW":{"code":"KRW","value":15.9219995657},
  // "KWD":{"code":"KWD","value":0.0037267204},
  // "KYD":{"code":"KYD","value":0.0100791495},
  // "KZT":{"code":"KZT","value":5.5288268056},
  // "LAK":{"code":"LAK","value":236.8972704405},
  // "LBP":{"code":"LBP","value":181.6167036547},
  // "LKR":{"code":"LKR","value":3.8795394948},
  // "LRD":{"code":"LRD","value":2.2483011225},
  // "LSL":{"code":"LSL","value":0.223969949},
  // "LTC":{"code":"LTC","value":0.0001915834},
  // "LTL":{"code":"LTL","value":0.0387202815},
  // "LVL":{"code":"LVL","value":0.0078813154},
  // "LYD":{"code":"LYD","value":0.0582478468},
  // "MAD":{"code":"MAD","value":0.1233770455},
  // "MATIC":{"code":"MATIC","value":0.0223079818},
  // "MDL":{"code":"MDL","value":0.2147418167},
  // "MGA":{"code":"MGA","value":54.2717476073},
  // "MKD":{"code":"MKD","value":0.6863691151},
  // "MMK":{"code":"MMK","value":25.3479518632},
  // "MNT":{"code":"MNT","value":42.0257314484},
  // "MOP":{"code":"MOP","value":0.0986535926},
  // "MRO":{"code":"MRO","value":4.3179228368},
  // "MUR":{"code":"MUR","value":0.549955301},
  // "MVR":{"code":"MVR","value":0.1869217804},
  // "MWK":{"code":"MWK","value":12.936731547},
  // "MXN":{"code":"MXN","value":0.2067621125},
  // "MYR":{"code":"MYR","value":0.056201246},
  // "MZN":{"code":"MZN","value":0.7705739464},
  // "NAD":{"code":"NAD","value":0.2275336207},
  // "NGN":{"code":"NGN","value":9.1579223333},
  // "NIO":{"code":"NIO","value":0.4425447586},
  // "NOK":{"code":"NOK","value":0.1292000743},
  // "NPR":{"code":"NPR","value":1.6117095136},
  // "NZD":{"code":"NZD","value":0.0203592014},
  // "OMR":{"code":"OMR","value":0.0046471523},
  // "OP":{"code":"OP","value":0.0091497136},
  // "PAB":{"code":"PAB","value":0.0120877722},
  // "PEN":{"code":"PEN","value":0.0445928003},
  // "PGK":{"code":"PGK","value":0.0439747467},
  // "PHP":{"code":"PHP","value":0.6840019949},
  // "PKR":{"code":"PKR","value":3.6947551919},
  // "PLN":{"code":"PLN","value":0.0501152724},
  // "PYG":{"code":"PYG","value":88.3639678532},
  // "QAR":{"code":"QAR","value":0.0440373991},
  // "RON":{"code":"RON","value":0.055555374},
  // "RSD":{"code":"RSD","value":1.3113279788},
  // "RUB":{"code":"RUB","value":1.1542896366},
  // "RWF":{"code":"RWF","value":14.4013978134},
  // "SAR":{"code":"SAR","value":0.0453149973},
  // "SBD":{"code":"SBD","value":0.1020484425},
  // "SCR":{"code":"SCR","value":0.1711651073},
  // "SDG":{"code":"SDG","value":7.2751592092},
  // "SEK":{"code":"SEK","value":0.1336238301},
  // "SGD":{"code":"SGD","value":0.0163512702},
  // "SHP":{"code":"SHP","value":0.0096107105},
  // "SLL":{"code":"SLL","value":264.2405953675},
  // "SOL":{"code":"SOL","value":0.0006239881},
  // "SOS":{"code":"SOS","value":6.8786262928},
  // "SRD":{"code":"SRD","value":0.465046888},
  // "STD":{"code":"STD","value":275.1129724452},
  // "SVC":{"code":"SVC","value":0.1058314931},
  // "SYP":{"code":"SYP","value":157.2548042804},
  // "SZL":{"code":"SZL","value":0.2279420759},
  // "THB":{"code":"THB","value":0.4239901905},
  // "TJS":{"code":"TJS","value":0.1334980415},
  // "TMT":{"code":"TMT","value":0.0423325972},
  // "TND":{"code":"TND","value":0.0374030327},
  // "TOP":{"code":"TOP","value":0.0284969784},
  // "TRY":{"code":"TRY","value":0.3234260522},
  // "TTD":{"code":"TTD","value":0.0814589328},
  // "TWD":{"code":"TWD","value":0.3859471756},
  // "TZS":{"code":"TZS","value":30.2798619274},
  // "UAH":{"code":"UAH","value":0.4439620706},
  // "UGX":{"code":"UGX","value":44.9814967636},
  // "USD":{"code":"USD","value":0.0120950278},
  // "USDC":{"code":"USDC","value":0.012051351},
  // "USDT":{"code":"USDT","value":0.0120564983},
  // "UYU":{"code":"UYU","value":0.455369882},
  // "UZS":{"code":"UZS","value":147.0730573819},
  // "VEF":{"code":"VEF","value":39547.7476014667},
  // "VND":{"code":"VND","value":291.0889754518},
  // "VUV":{"code":"VUV","value":1.459910625},
  // "WST":{"code":"WST","value":0.032859528},
  // "XAF":{"code":"XAF","value":7.364695764},
  // "XAG":{"code":"XAG","value":0.0005000107},
  // "XAU":{"code":"XAU","value":6.2345e-6},
  // "XCD":{"code":"XCD","value":0.032656575},
  // "XDR":{"code":"XDR","value":0.0090765943},
  // "XOF":{"code":"XOF","value":7.3646956051},
  // "XPD":{"code":"XPD","value":9.8825e-6},
  // "XPF":{"code":"XPF","value":1.3386704077},
  // "XPT":{"code":"XPT","value":1.24947e-5},
  // "XRP":{"code":"XRP","value":0.0240959274},
  // "YER":{"code":"YER","value":3.0225849177},
  // "ZAR":{"code":"ZAR","value":0.2272818183},
  // "ZMK":{"code":"ZMK","value":108.8697640461},
  // "ZMW":{"code":"ZMW","value":0.2464550902},
  // "ZWL":{"code":"ZWL","value":55.6605330529}}}

  // `);
